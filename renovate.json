{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base"
  ],
  "regexManagers": [
    {
      "fileMatch": [
        "tomcat.*/Dockerfile"
      ],
      "matchStrings": [
        "datasource=(?<datasource>.*?) depName=(?<depName>.*?)( versioning=(?<versioning>.*?))?\\sENV .*?_VERSION (?<currentValue>.*)\\s"
      ],
      "versioningTemplate": "semver"
    }
  ],
  "packageRules": [
    {
      "matchUpdateTypes": [
        "major",
        "minor"
      ],
      "enabled": false
    },
    {
      "groupName": "automerge-tomcat-patch",
      "groupSlug": "tomcat-patch",
      "matchUpdateTypes": [
        "patch"
      ],
      "addLabels": [
        "tomcat",
        "automerge-tomcat-patch"
      ],
      "matchCurrentVersion": "!/^0/",
      "platformAutomerge": true,
      "automerge": true,
      "automergeType": "pr",
      "commitMessageSuffix": "[AUTO-MERGE-PR]"
    }
  ]
}